# 灵光收集箱

> 记录灵光一闪的想法，不打断当前流程

---

## 使用说明

当人类在做任务A时突然提到任务B：
1. AI 识别这是"灵光"
2. 记录到这里
3. 继续任务A
4. 后续处理时机：任务完成后 / 阶段切换时 / 人类主动要求

---

## 待处理灵光

### 灵光 #1

**记录时间**：2024-12-20

**当时阶段**：迭代1-设计（设计需求文档规范）

**内容**：
> AI 把"影响分析结果"当成"立即执行清单"，跳过评审环节直接执行后续任务。
>
> **问题场景**：完成需求文档规范设计后，AI 的 todo list 包含了后续变更任务（更新产品PRD、CLAUDE.md、state.json），AI 直接开始执行这些任务，而不是等待人类评审确认。
>
> **违反规范**：CLAUDE.md 要求"需求/设计变更前 → 先做影响分析，人类确认后再执行"
>
> **根因分析**：todo list 混淆了两种性质的任务：
> 1. 当前阶段任务（应立即执行）
> 2. 影响范围任务（应等待评审后执行）
>
> **可能的解决方向**：
> - 在 todo list 中区分"当前阶段任务"和"待评审后执行任务"
> - 或者影响分析结果单独记录，不放入 todo list
> - 或者在 CLAUDE.md 中强化"阶段产出需评审"的规则

**状态**：待处理

**处理记录**：
- 处理时间：-
- 处理结果：-

---

### 灵光 #2

**记录时间**：2025-12-21

**当时阶段**：design-doc-spec 开发中

**内容**：
> 新增 **design-expert** 技能（AI Skill）
>
> **目标**：根据产品远景提供"刚好够用"的设计，避免过度设计
>
> **核心能力**：
> 1. 评估需求复杂度
> 2. 推荐设计深度（轻量/标准/详细）
> 3. 引导设计过程，输出设计文档
>
> **触发场景**：
> - 需求已明确，用户表达设计意图
> - 用户不确定需要什么级别的设计
> - AI 判断该进入设计阶段
>
> **与 design-doc-spec 的关系**：
> - design-doc-spec：定义设计文档结构（What）
> - design-expert：引导设计过程（How）
>
> **依赖**：需先完成 design-doc-spec

**状态**：已处理

**处理记录**：
- 处理时间：2025-12-21
- 处理结果：已创建 design-expert feature，进入开发阶段

---

### 灵光 #3

**记录时间**：2025-12-21

**当时阶段**：新增 auto-commit feature

**内容**：
> 新增 Feature 或功能时，当前流程没有自动分析对已有 feature/domain 的影响。
>
> **问题场景**：新增 auto-commit 功能时，AI 只关注新功能本身，没有主动分析它与 state-management 的关系（需要扩展 state.js），是人类提醒后才意识到。
>
> **违反规范**：CLAUDE.md 的变更影响流程只覆盖"修改规范/PRD/模板"场景，未覆盖"新增 feature"场景。
>
> **根因分析**：
> 1. 意图识别中"需求交付"流程没有包含影响分析环节
> 2. 影响分析只在"变更请求"流程中触发
> 3. 新增功能也是一种"变更"，应纳入影响分析范围
>
> **可能的解决方向**：
> - 在"需求交付流程"中增加影响分析环节
> - 或者将"新增 feature"归类为"变更请求"
> - 或者在 requirements-expert 技能中增加影响分析步骤

**状态**：待处理

**处理记录**：
- 处理时间：-
- 处理结果：-

---

## 已处理灵光

### 灵光 #2（已处理）

**处理时间**：2025-12-21
**处理结果**：已创建 `design-expert` feature（domain: ai-config），等待开发

<!--
示例：
### 灵光 #1

**记录时间**：2024-01-01 10:30

**当时阶段**：迭代1-设计

**内容**：
> 突然想到登录页面要不要支持第三方登录？

**状态**：待处理

**处理记录**：
- 处理时间：-
- 处理结果：-
-->
